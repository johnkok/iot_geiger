# IoT Geiger Counter

Geiger counters are commonly used for measuring the ionization radiation such nuclear radiation. The functionality is based on Geiger-Muller tube which is sensitive on gamma/X-ray radiation. In this project we will use a GM tube, combined with some environmental like humidity/temperature and particular matter sensor, to develop a IoT node publishing measurements to MQTT broker.
The design is based on NINA-W106 WiFi/BT4.2 Open CPU module from u-blox. CPU module acquires data from the different sensors and publishing it to MQTT broker though the WiFi interface. In addition, a local HTTP server is available for configuring the board and monitoring the status. An OLED display is also available for monitoring senor’s data.

The following software components are running on the CPU:

__GM-Tube driver:__ the J-305 GM tube is used in this project. The operation voltage for J-305 tube is 400V, so a step-up power supply has been implemented for stepping-up the 5V power supply to 400V supply that is needed by the tube. The step-up power supply voltage is controlled by a fix frequency and variable duty-cycle clock - generated by NINA-W106 CPU. An analog to digital CPU channel monitoring the High-Voltage power supply output and adjusting the control clock duty-cycle accordingly. Finally, a pulse detector circuit translating to a single pulse each radiation event detected by the tube.  
__OLED Display driver:__ A small, 1,3”, OLED display is used for displaying the board data. The display is communicating with the CPU using an I2C interface and displaying the last sensor measurements and last hours graphs.  
__PM sensor driver:__ The PMS7003 particular matter sensor from Plantower is used. The sensor communicating through UART interface populating measurements for PM1.0, PM2.5 and PM10.0 particles detected.  
__LED/Buzzer/buzzer handling:__ Light or sound alarms is also possible to be enabled. In addition, a button provides the option to reset the board configuration to a default state.  
__HTTP server:__ running on port 80 and used for configuring basic parameters like the MQTT server location and credentials, WiFi station setting or acquiring the latest board status.  
__WiFi connectivity:__ by default the board is running configured as Access Point. Using the embedded web page, the default configuration can be changed to Station – using the preferred access point/password settings.  
__MQTT publisher:__ for publishing the data to configured MQTT broker.  

Following the schematic design used for this project:  
![Schematic diagram](/Doc/Schematic.png)
